{% extends "layouts/profesor_layout.html" %}

{% block profesor_title %}Vista Previa CV{% endblock %}

{% block profesor_content %}

<h2 class="text-center text-md-start">Vista Previa del CV</h2>
<hr>

<div class="card shadow-sm cv-container">
    <div class="card-body">

        <!-- INFORMACI√ìN GENERAL -->
        <div class="mb-4 text-center text-md-start">
            <h3 class="fw-bold">{{ usuario.nombre }} {{ usuario.apellidos or '' }}</h3>
            <p class="mb-1">{{ usuario.email }}</p>
            {% if usuario.orcid_id %}
            <p class="text-muted">ORCID: {{ usuario.orcid_id }}</p>
            {% endif %}
        </div>

        <hr>

        <!-- PUBLICACIONES -->
        <h4 class="section-title">üìö Publicaciones</h4>
        {% if publicaciones %}
        <ol class="cv-list">
            {% for pub in publicaciones %}
            <li class="cv-item">
                <strong>{{ pub.titulo }}</strong><br>

                {% if pub.autores %}
                    <span class="text-muted">{{ pub.autores }}</span><br>
                {% endif %}

                {% if pub.revista %}
                    <span>{{ pub.revista }}</span>
                {% endif %}

                {% if pub.a√±o %}
                    <span>, {{ pub.a√±o }}</span>
                {% endif %}

                {% if pub.doi %}
                    <br><span class="doi">DOI: {{ pub.doi }}</span>
                {% endif %}
            </li>
            {% endfor %}
        </ol>
        {% else %}
        <p class="no-data">No hay publicaciones registradas.</p>
        {% endif %}

        <hr>

        <!-- EVENTOS -->
        <h4 class="section-title">üé§ Eventos Acad√©micos</h4>
        {% if eventos %}
        <ul class="cv-list">
            {% for evento in eventos %}
            <li class="cv-item">
                <strong>{{ evento.nombre }}</strong><br>

                {% if evento.lugar %}
                    <span>{{ evento.lugar }}</span>
                {% endif %}

                {% if evento.fecha_inicio %}
                    <span>, {{ evento.fecha_inicio.strftime('%Y') }}</span>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="no-data">No hay eventos acad√©micos registrados.</p>
        {% endif %}

        <hr>

        <!-- DOCENCIAS -->
        <h4 class="section-title">üë®‚Äçüè´ Experiencia Docente</h4>
        {% if docencias %}
        <ul class="cv-list">
            {% for docencia in docencias %}
            <li class="cv-item">
                <strong>{{ docencia.nombre_curso }}</strong><br>

                {% if docencia.institucion %}
                    <span>{{ docencia.institucion }}</span>
                {% endif %}

                {% if docencia.a√±o %}
                    <span>, {{ docencia.a√±o }}</span>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="no-data">No hay experiencia docente registrada.</p>
        {% endif %}

    </div>
</div>

{% endblock %}
